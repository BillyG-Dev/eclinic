{% extends 'base.html' %} {% block title %}Clinician Dashboard{% endblock %} {%
block content %}
<div class="container mt-5">
  <h2 class="mb-4">Welcome, {{ clinician.user.username }}!</h2>

  <div class="card mb-3">
    <div class="card-body">
      <h5 class="card-title">Your Info</h5>
      <p>
        <strong>Specialization:</strong> {{ clinician.get_specialization_display
        }}
      </p>
      <p>
        <strong>Duty Status:</strong>
        {% if clinician.duty_status %}
        <span class="text-success">On Duty</span>
        {% else %}
        <span class="text-danger">Off Duty</span>
        {% endif %}
      </p>

      <form method="POST" action="{% url 'toggle_duty_status' %}">
        {% csrf_token %}
        <button class="btn btn-primary">
          {% if clinician.duty_status %}Go Off Duty{% else %}Go On Duty{% endif
          %}
        </button>
      </form>
    </div>
  </div>

  <!-- Placeholder for upcoming appointments -->
  <div class="card">
    <div class="card-body">
      <h5 class="card-title">Upcoming Appointments</h5>
      <h4>Upcoming Appointments</h4>
      <table class="table table-striped">
        <thead>
          <tr>
            <th>Patient</th>
            <th>Date</th>
            <th>Time</th>
            <th>Status</th>
          </tr>
        </thead>
        <tbody>
          {% for appointment in appointments %}
          <tr>
            <td>{{ appointment.patient.user.username }}</td>
            <td>{{ appointment.date }}</td>
            <td>{{ appointment.time }}</td>
            <td>{{ appointment.get_status_display }}</td>
          </tr>
          {% empty %}
          <tr>
            <td colspan="4">No upcoming appointments</td>
          </tr>
          {% endfor %}
        </tbody>
      </table>
    </div>
  </div>
</div>
{% endblock %}
